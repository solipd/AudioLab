#N canvas 111 13 643 410 10;
#X obj 86 68 s \$0-min-blocksize;
#X obj 86 46 r min-blocksize;
#X obj 202 67 s \$0-max-blocksize;
#X obj 202 44 r max-blocksize;
#X obj 75 133 adc~;
#X obj 75 325 dac~;
#X obj 74 294 *~;
#X obj 105 294 /;
#X msg 105 273 1 \$1;
#X obj 105 250 r \$0-nparts;
#X obj 102 165 r \$0-nparts;
#X msg 102 188 resize 1 \, resize \$1;
#X obj 74 221 clone pp.fft-partconv-part 1 \$0;
#N canvas 161 337 843 527 load-IR 0;
#X obj 185 208 soundfiler;
#X obj 185 135 pack s \$0;
#X obj 185 354 s \$0-ir-length;
#N canvas 260 259 894 643 sondfile-info 0;
#X obj 84 352 t f b;
#X obj 111 375 samplerate~;
#X obj 111 398 / 1000;
#X obj 84 422 /;
#X obj 86 23 r \$0-nparts;
#X obj 179 136 r \$0-min-blocksize;
#X obj 104 230 f;
#X obj 134 232 * 2;
#X obj 138 302 +;
#X obj 104 302 f;
#X obj 104 258 t b f;
#X msg 191 223 0;
#X obj 205 160 r \$0-max-blocksize;
#X obj 205 183 t b;
#X obj 179 183 f;
#X obj 104 201 until;
#X obj 86 115 t b f b b;
#X obj 84 327 f;
#X obj 280 475 pack f s;
#X msg 280 503 loaded \$1ms of IR \$2;
#X obj 240 343 r \$0-ir-length;
#X obj 225 368 <;
#X obj 225 391 sel 1;
#X obj 86 47 pipe 1;
#X obj 325 452 r \$0-irname;
#X msg 225 416 IR length exceeds buffer;
#X obj 86 91 + 1;
#X obj 86 70 / 2;
#X obj 280 580 s \$0-printout;
#X obj 99 446 r \$0-ir-length;
#X obj 84 478 min;
#N canvas 426 89 883 671 splitfilename 0;
#X obj 219 286 outlet;
#X text 263 289 filename;
#X obj 185 210 inlet;
#X obj 185 233 file splitname;
#X obj 185 256 list split 1;
#X obj 185 310 outlet;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 0 0;
#X connect 4 0 5 0;
#X connect 4 1 0 0;
#X restore 353 68 pd splitfilename;
#X obj 446 92 s \$0-irname;
#X obj 353 40 inlet;
#X connect 0 0 3 0;
#X connect 0 1 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 1;
#X connect 3 0 30 0;
#X connect 4 0 23 0;
#X connect 5 0 14 0;
#X connect 6 0 7 0;
#X connect 6 0 10 0;
#X connect 7 0 6 1;
#X connect 8 0 9 1;
#X connect 9 0 8 0;
#X connect 9 0 17 1;
#X connect 10 0 9 0;
#X connect 10 1 8 1;
#X connect 11 0 9 1;
#X connect 11 0 8 1;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 6 1;
#X connect 15 0 6 0;
#X connect 16 0 17 0;
#X connect 16 1 15 0;
#X connect 16 2 11 0;
#X connect 16 3 14 0;
#X connect 17 0 0 0;
#X connect 17 0 21 0;
#X connect 18 0 19 0;
#X connect 19 0 28 0;
#X connect 20 0 21 1;
#X connect 21 0 22 0;
#X connect 22 0 25 0;
#X connect 23 0 27 0;
#X connect 24 0 18 1;
#X connect 25 0 28 0;
#X connect 26 0 16 0;
#X connect 27 0 26 0;
#X connect 29 0 30 1;
#X connect 30 0 18 0;
#X connect 31 1 32 0;
#X connect 33 0 31 0;
#X restore 302 264 pd sondfile-info;
#X obj 244 309 s \$0-ir-samprate;
#X msg 243 284 \$1;
#X obj 275 67 t a a;
#N canvas 344 211 890 454 pitchcorrection 0;
#X obj 168 14 r \$0-ir-samprate;
#X obj 193 59 samplerate~;
#X obj 168 83 ==;
#X obj 168 106 sel 0;
#X obj 230 372 line~;
#X obj 232 202 r \$0-ir-length;
#X obj 230 304 /;
#X obj 278 272 / 1000;
#X obj 230 328 pack, f 6;
#X msg 230 349 0 \, \$2 \$1;
#X obj 232 225 t f f, f 6;
#X obj 217 255 f;
#X obj 168 135 del 1;
#X obj 278 250 r \$0-ir-samprate;
#X obj 428 142 r \$0-ir-length;
#X obj 443 164 r \$0-ir-samprate;
#X obj 428 192 /;
#X obj 428 247 t f b;
#X obj 455 270 samplerate~;
#X obj 428 290 *;
#X obj 230 395 tabread4~ \$0-dummy;
#X obj 168 425 tabwrite~ \$0-impulse;
#X obj 428 311 array size \$0-impulse;
#X obj 413 222 f;
#X obj 168 36 t f b;
#X msg 29 184 correcting pitch..;
#X obj 168 157 t b b;
#X obj 29 239 s \$0-printout;
#X connect 0 0 24 0;
#X connect 1 0 2 1;
#X connect 2 0 3 0;
#X connect 3 0 12 0;
#X connect 3 0 25 0;
#X connect 4 0 20 0;
#X connect 5 0 10 0;
#X connect 6 0 8 0;
#X connect 7 0 6 1;
#X connect 8 0 9 0;
#X connect 9 0 4 0;
#X connect 10 0 11 1;
#X connect 10 1 8 1;
#X connect 11 0 6 0;
#X connect 12 0 26 0;
#X connect 13 0 7 0;
#X connect 14 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 23 1;
#X connect 17 0 19 0;
#X connect 17 1 18 0;
#X connect 18 0 19 1;
#X connect 19 0 22 0;
#X connect 20 0 21 0;
#X connect 23 0 17 0;
#X connect 24 0 2 0;
#X connect 24 1 1 0;
#X connect 25 0 27 0;
#X connect 26 0 11 0;
#X connect 26 0 21 0;
#X connect 26 1 23 0;
#X restore 190 489 pd pitchcorrection;
#X obj 383 199 soundfiler;
#X msg 383 176 read -resize \$1 \$2-dummy;
#X msg 185 183 read -resize \$1 \$2-impulse;
#X obj 185 158 t a a;
#N canvas 437 88 619 300 nofile 0;
#X obj 227 31 inlet;
#X obj 117 30 inlet;
#X obj 117 184 spigot 1;
#X obj 272 100 != 0;
#X obj 117 276 outlet;
#X obj 362 262 symbol empty..;
#X obj 443 29 inlet;
#X obj 227 55 t a a;
#X obj 227 277 outlet;
#X obj 362 302 outlet;
#X obj 227 184 spigot 1;
#X obj 362 138 sel 1 0;
#X obj 381 162 symbol;
#X msg 381 183 couldn't find \$1;
#X msg 272 78 \$1;
#X obj 381 228 s \$0-printout;
#X connect 0 0 7 0;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 3 0 2 1;
#X connect 3 0 10 1;
#X connect 3 0 11 0;
#X connect 5 0 9 0;
#X connect 6 0 5 1;
#X connect 6 0 12 1;
#X connect 7 0 10 0;
#X connect 7 1 14 0;
#X connect 10 0 8 0;
#X connect 11 0 5 0;
#X connect 11 1 12 0;
#X connect 12 0 13 0;
#X connect 13 0 15 0;
#X connect 14 0 3 0;
#X restore 185 238 pd nofile;
#X f 20;
#X obj 275 16 r open;
#X obj 275 43 symbol;
#X obj 404 16 r copyIR;
#X obj 480 17 r copyIRsize;
#X obj 480 40 array size \$0-impulse;
#X obj 404 68 array set \$0-impulse;
#X obj 99 289 r copyIRsize;
#X obj 617 291 array define \$0-impulse;
#X obj 617 317 array define \$0-dummy;
#X connect 0 0 12 0;
#X connect 0 1 12 1;
#X connect 1 0 11 0;
#X connect 5 0 4 0;
#X connect 6 0 1 0;
#X connect 6 1 12 2;
#X connect 9 0 8 0;
#X connect 10 0 0 0;
#X connect 11 0 10 0;
#X connect 11 1 9 0;
#X connect 12 0 2 0;
#X connect 12 1 5 0;
#X connect 12 2 3 0;
#X connect 13 0 14 0;
#X connect 14 0 6 0;
#X connect 15 0 18 0;
#X connect 16 0 17 0;
#X connect 19 0 2 0;
#X restore 340 97 pd load-IR;
#N canvas 211 161 629 438 create 0;
#N canvas 604 426 661 516 count 0;
#X obj 159 114 * 2;
#X obj 232 87 <;
#X obj 121 113 f;
#X obj 90 304 + 1;
#X obj 121 304 f;
#X msg 303 88 0;
#X obj 149 67 until;
#X obj 232 110 sel 0;
#X obj 326 183 f;
#X obj 284 182 +;
#X obj 38 400 f;
#X obj 121 396 pack;
#X obj 359 43 inlet;
#X text 400 48 max bl;
#X obj 449 186 inlet;
#X text 490 191 ir length;
#X obj 39 0 inlet;
#X text 82 4 min bl;
#X obj 121 469 outlet;
#X obj 38 466 outlet;
#X obj 121 147 t f f f;
#N canvas 84 430 774 522 onsets 0;
#X obj 362 289 +;
#X obj 334 245 t f f;
#X obj 333 218 +;
#X obj 354 177 expr (pow(2 \, $f1) - 1) * $f2;
#X obj 221 43 inlet;
#X obj 252 126 expr $f2 * ($f1 % 2) / 2 \; int($f1 / 2);
#X obj 428 121 unpack;
#X obj 334 327 pack;
#X obj 221 66 t a a a;
#X obj 221 421 list;
#X obj 221 448 outlet;
#X obj 519 152 r \$0-min-blocksize;
#X connect 0 0 7 1;
#X connect 1 0 7 0;
#X connect 1 1 0 0;
#X connect 2 0 1 0;
#X connect 3 0 2 1;
#X connect 4 0 8 0;
#X connect 5 0 2 0;
#X connect 5 1 3 0;
#X connect 6 1 0 1;
#X connect 7 0 9 1;
#X connect 8 0 9 0;
#X connect 8 1 5 0;
#X connect 8 2 6 0;
#X connect 9 0 10 0;
#X connect 11 0 3 1;
#X restore 121 436 pd onsets;
#X obj 38 435 max 1;
#X obj 121 185 t b b f;
#X obj 284 233 >;
#X obj 284 256 sel 1;
#X obj 39 24 t b b f b, f 25;
#X connect 0 0 2 1;
#X connect 1 0 7 0;
#X connect 2 0 0 0;
#X connect 2 0 20 0;
#X connect 3 0 4 1;
#X connect 3 0 10 1;
#X connect 4 0 3 0;
#X connect 4 0 11 0;
#X connect 5 0 4 1;
#X connect 5 0 9 1;
#X connect 6 0 2 0;
#X connect 7 0 6 1;
#X connect 8 0 9 1;
#X connect 9 0 8 0;
#X connect 9 0 24 0;
#X connect 10 0 22 0;
#X connect 11 0 21 0;
#X connect 12 0 1 1;
#X connect 14 0 24 1;
#X connect 16 0 26 0;
#X connect 20 0 23 0;
#X connect 20 1 9 0;
#X connect 20 2 1 0;
#X connect 21 0 18 0;
#X connect 22 0 19 0;
#X connect 23 0 4 0;
#X connect 23 1 4 0;
#X connect 23 2 11 1;
#X connect 24 0 25 0;
#X connect 25 0 6 1;
#X connect 26 0 10 0;
#X connect 26 1 6 0;
#X connect 26 2 2 1;
#X connect 26 3 5 0;
#X restore 183 171 pd count;
#X f 12;
#X obj 302 12 r \$0-max-blocksize;
#X obj 302 35 t b f;
#X obj 183 13 r \$0-min-blocksize;
#X obj 421 11 r \$0-ir-length;
#X obj 421 34 t b f;
#X obj 183 112 f 1024, f 9;
#X obj 402 198 text define \$0-cloneblock;
#X obj 252 219 text set \$0-cloneblock;
#X obj 295 175 loadbang;
#X msg 295 198 1e+10;
#X msg 402 175 clear;
#X obj 210 318 s \$0-nparts;
#X obj 183 378 text sequence \$0-cloneblock;
#X msg 183 350 line 0 \, auto;
#X obj 183 49 t b f;
#X obj 183 81 del 0;
#X obj 183 135 t f f b;
#X obj 183 293 t b f;
#X obj 183 409 s \$0-clone-data;
#X floatatom 242 295 5 0 0 0 - - - 0;
#X obj 183 259 moses 3;
#X obj 183 211 t b f;
#X msg 221 236 0;
#X text 243 259 avoid faulty init;
#X connect 0 0 22 0;
#X connect 0 1 8 0;
#X connect 1 0 2 0;
#X connect 2 0 16 0;
#X connect 2 1 0 1;
#X connect 3 0 15 0;
#X connect 4 0 5 0;
#X connect 5 0 16 0;
#X connect 5 1 0 2;
#X connect 6 0 17 0;
#X connect 9 0 10 0;
#X connect 10 0 8 1;
#X connect 11 0 7 0;
#X connect 13 0 19 0;
#X connect 14 0 13 0;
#X connect 15 0 16 0;
#X connect 15 1 6 1;
#X connect 16 0 6 0;
#X connect 17 0 0 0;
#X connect 17 2 11 0;
#X connect 18 0 14 0;
#X connect 18 1 12 0;
#X connect 18 1 20 0;
#X connect 21 1 18 0;
#X connect 22 0 23 0;
#X connect 22 1 21 0;
#X connect 23 0 21 1;
#X restore 342 129 pd create;
#X obj 236 319 stdout;
#X obj 236 294 r \$0-printout;
#X connect 1 0 0 0;
#X connect 3 0 2 0;
#X connect 4 0 12 0;
#X connect 6 0 5 0;
#X connect 7 0 6 1;
#X connect 8 0 7 0;
#X connect 9 0 8 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 6 0;
#X connect 16 0 15 0;
